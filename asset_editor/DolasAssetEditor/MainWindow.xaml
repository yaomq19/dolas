<Window x:Class="Dolas.AssetEditor.MainWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
        xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
        xmlns:vm="clr-namespace:Dolas.AssetEditor.ViewModels"
        mc:Ignorable="d"
        Title="Dolas 资产编辑器"
        Width="1200" Height="720"
        WindowStartupLocation="CenterScreen">

    <Window.DataContext>
        <vm:MainWindowViewModel />
    </Window.DataContext>

    <DockPanel LastChildFill="True">
        <Menu DockPanel.Dock="Top">
            <MenuItem Header="_文件">
                <MenuItem Header="打开工程..." Command="{Binding OpenProjectCommand}" />
                <Separator />
                <MenuItem Header="退出" Command="{Binding ExitCommand}" />
            </MenuItem>
            <MenuItem Header="_帮助">
                <MenuItem Header="关于" Command="{Binding AboutCommand}" />
            </MenuItem>
        </Menu>

        <StatusBar DockPanel.Dock="Bottom">
            <StatusBarItem Content="{Binding StatusText}" />
        </StatusBar>

        <Grid>
            <Grid.ColumnDefinitions>
                <ColumnDefinition Width="280" />
                <ColumnDefinition Width="*" />
                <ColumnDefinition Width="340" />
            </Grid.ColumnDefinitions>
            <Grid.RowDefinitions>
                <RowDefinition Height="*" />
                <RowDefinition Height="180" />
            </Grid.RowDefinitions>

            <!-- 左侧：资产树 -->
            <GroupBox Grid.Row="0" Grid.Column="0" Header="资产">
                <DockPanel>
                    <TextBox DockPanel.Dock="Top"
                             Margin="6"
                             Height="26"
                             VerticalContentAlignment="Center"
                             Text="{Binding AssetFilterText, UpdateSourceTrigger=PropertyChanged}"
                             ToolTip="筛选（占位）" />
                    <TreeView Margin="6"
                              ItemsSource="{Binding AssetRoots}">
                        <TreeView.ItemTemplate>
                            <HierarchicalDataTemplate ItemsSource="{Binding Children}">
                                <TextBlock Text="{Binding Name}" />
                            </HierarchicalDataTemplate>
                        </TreeView.ItemTemplate>
                    </TreeView>
                </DockPanel>
            </GroupBox>

            <!-- 中间：视口/预览（占位） -->
            <GroupBox Grid.Row="0" Grid.Column="1" Header="预览">
                <Grid Margin="6">
                    <Border BorderBrush="#2B2B2B" BorderThickness="1" Background="#111">
                        <TextBlock Foreground="#DDD"
                                   HorizontalAlignment="Center"
                                   VerticalAlignment="Center"
                                   Text="这里后续嵌入渲染视口 / 预览控件" />
                    </Border>
                </Grid>
            </GroupBox>

            <!-- 右侧：属性 -->
            <GroupBox Grid.Row="0" Grid.Column="2" Header="属性">
                <ScrollViewer Margin="6" VerticalScrollBarVisibility="Auto">
                    <StackPanel>
                        <TextBlock Text="选中资产：" FontWeight="SemiBold" />
                        <TextBlock Margin="0,4,0,12" Text="{Binding SelectedAssetName}" />

                        <TextBlock Text="属性面板（占位）" FontWeight="SemiBold" />
                        <TextBlock Margin="0,4,0,0"
                                   TextWrapping="Wrap"
                                   Foreground="#666"
                                   Text="建议后续用 DataTemplate/Editor 控件系统渲染不同资源类型的属性。" />
                    </StackPanel>
                </ScrollViewer>
            </GroupBox>

            <!-- 底部：日志 -->
            <GroupBox Grid.Row="1" Grid.Column="0" Grid.ColumnSpan="3" Header="日志">
                <ListBox Margin="6" ItemsSource="{Binding Logs}" />
            </GroupBox>
        </Grid>
    </DockPanel>
</Window>


